<!DOCTYPE html><html lang="en"><head>
  <meta charset="UTF-8">
  <title>Sample Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <!-- Font Inter -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet">
  <!-- Font Sora -->
  <link href="https://fonts.googleapis.com/css2?family=Sora:wght@400;700&amp;display=swap" rel="stylesheet">

<style>body {
  font-family: Inter, sans-serif;
}

.bg-blue {
  background-color: #007890 !important;
}

.bg-light-blue {
  background-color: #00c0d8 !important;
}

.custom-rounded {
  border-radius: 3rem;
}

.custom-rounded-1 {
  border-radius: 1rem;
}

.custom-rounded-2 {
  border-radius: 2rem;
}

.font-sora {
  font-family: Sora, sans-serif;
}

.fab {
  z-index: 1050;
  position: fixed;
  bottom: 1rem;
  right: 1rem;
}

.popup-form {
  z-index: 1040;
  width: 22rem;
  height: 32rem;
  display: none;
  position: fixed;
  bottom: 4.5rem;
  right: 1rem;
}

#popupForm {
  z-index: 1050;
  width: 400px;
  height: 80vh;
  position: fixed;
  bottom: 70px;
  right: 20px;
}

#popupForm .card-body {
  height: calc(100% - 42px);
  padding: 0;
}

#popupForm iframe {
  border: none;
  height: 100%;
}
</style>
</head>

<body>

  <!-- Fixed Wrapper -->
  <div class="bg-light d-flex flex-column vh-100 ">
    
    <!-- Header -->
    <div id="headerDiv" class="m-4 w-100 d-flex flex-row align-items-center justify-content-between">
      <div id="logo" class="ms-3">
        <span class="fw-bold font-sora">Company Logo</span>
      </div>

      <div class="d-flex flex-row align-items-center justify-content-between pe-4 me-1">
        <div class="cursor-pointer col text-nowrap me-4">
            <a rel="noreferrer" href="/index.html" class="small text-dark text-decoration-none">Back to Portfolio</a>
        </div>
      
        <div class="pe-1 col">
            <div class="card rounded-circle bg-blue text-white fw-bold justify-content-center align-items-center fs-5" data-bs-toggle="tooltip" data-bs-placement="top" title="" id="email" style="width: 50px; height: 50px"></div>
        </div>

      </div>
    </div>


    <div id="field-body" class="d-flex" style="height: 100vh">

      <!-- Sidebar -->
      <div id="sidebar" class="p-3" style="width: 300px">
        <div id="newFolderButton" class="rounded-3 bg-light-blue border-0  d-flex flex-row  align-items-center w-auto mb-4">
          <i class="bi bi-folder-plus m-2 ps-4 fs-2 text-white"></i>
          <a href="#" class="text-white fs-6 fw-bold text-decoration-none text-nowrap">New Folder</a></div>
        <span id="sidebarList" class="list-unstyled"></span>

        <div id="help" class="border-top m-2">
            <div class="fs-6 text-muted fw-bold mt-4">Info</div>
            <p class="blockquote-footer mt-2" id="helpText">hover or move mouse over elements to know instructions or information</p>          
        </div>
      </div>

      <!-- Main Content <ul id="topbar-buttons" class=" justify-content-center gap-2"></ul> -->
      <div id="mainContentArea" class="card custom-rounded bg-white border-0 container-fluid">

        <div id="projectTitle" class="ms-3 mt-4">
          <nav style="--bs-breadcrumb-divider: &quot;>&quot;" aria-label="breadcrumb">
            <ol class="breadcrumb" id="breadcrumb">
            </ol>
          </nav>
        </div>
        <div>
          <ul id="topbarButtons" class="nav nav-underline bg-white bs-2"></ul>
        </div>
        <div id="grid" class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3 overflow-auto"></div>
        <ul id="list" class="overflow-auto"></ul>
      </div>
    </div>
  </div>

 

  <!-- Modal Container -->
  <div id="modalContainer" class="d-none">
    <div class="modal fade" id="modalHTML" tabindex="-1" aria-labelledby="newFolderLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
            <div class="modal-header border-0">
                <h3 class="modal-title" id="newFolderLabel">Create Project</h3>
                <button type="button" id="closeButton" class="btn-close" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="modalForm">
                <div class="mb-3">
                    <label for="folderName" class="form-label ">Folder Name:</label>
                    <input type="text" class="form-control" id="folderName" name="folderName" placeholder="Enter project name" required="">
                </div>

                <div class="modal-footer border-0">
                    <button id="cancelButton" type="button" class="btn btn-secondary cancel-button">Cancel</button>
                    <button type="submit" class="btn btn-success submit-button">Create Project</button>
                </div>
                </form>
            </div>
            </div>
        </div>
    </div>
  </div>

  <!-- Loading Animation -->
  <div id="loadingOverlay" class="d-none position-fixed top-0 start-0 w-100 h-100 d-flex flex-column justify-content-center align-items-center bg-white z-2">
    <div class="spinner-grow text-warning" role="status" style="width: 3rem; height: 3rem"></div>
    <div id="loadingText" class="text-muted small mt-3"></div>
  </div>
  

  <!-- Toast Notification -->
  <div class="position-fixed top-50 start-50 translate-middle z-3 ">
    <div id="customToast" class="toast text-white bg-success border-0 p-2" role="alert" aria-live="assertive" aria-atomic="true" style="width: fit-content; max-width: 90vw">
        
      <div class="toast-body d-flex flex-column justify-content-between align-items-center">
        <span id="toastMessage" class="">Default message</span>
        <span id="toastDetails" class="small mt-3">details...</span>
      </div>
      
      <div class="d-flex justify-content-center">
        <button type="button" class="btn btn-light btn-sm m-2" id="toastOkBtn">OK</button>
      </div>
    </div>
  </div>

  <!-- Floating Button -->
  <button id="floatingButton" class="btn btn-secondary rounded-circle fab d-flex align-items-center justify-content-center shadow m-4" style="width: 56px; height: 56px">
    <i class="bi bi-chat-dots fs-4"></i>
  </button>

  <!-- Popup Form -->
  <div class="popup-form card shadow" id="popupForm">
    <div class="card-header bg-secondary text-white d-flex justify-content-between align-items-center py-2 px-3">
      <span class="fw-bold">Chat</span>
      <button id="popupClose" type="button" class="btn-close btn-close-white"></button>
    </div>
    <div class="card-body p-0 d-flex align-items-center justify-content-center">
        <p>Chat Service Here</p>
    </div>
  </div>

  <!-- Bootstrap JS  -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>

<script>(function() {
    'use strict';
    //-----UI  ------------------------------------------------------------------
    function toggleFloatingForm() {
        const popup = document.querySelector('.popup-form');
        popup.style.display = popup.style.display === 'block' ? 'none' : 'block';
    }
    function helpSideBar(config) {
        config.forEach((el, index)=>{
            const html = document.getElementById(el.html);
            if (html) {
                html.addEventListener("mousemove", (e)=>{
                    helpText.textContent = el.text;
                });
                html.addEventListener("mouseleave", (e)=>{
                    helpText.textContent = "hover or move mouse over elements to know instructions or information";
                });
            }
        });
    }
    //-- Show loading animation
    function showLoading(text = "") {
        if (loadingOverlay && loadingText) {
            loadingText.textContent = text;
            loadingOverlay.classList.remove('d-none');
        }
    }
    //-- Hide loading animation
    function hideLoading() {
        if (loadingOverlay) loadingOverlay.classList.add('d-none');
    }
    //-- Show toast notifications
    function showToast(message, type = 'success', details = '') {
        hideLoading();
        const toastEl = document.getElementById('customToast');
        const toastMessage = document.getElementById('toastMessage');
        const toastDetails = document.getElementById('toastDetails');
        const okButton = document.getElementById('toastOkBtn');
        // Update message text
        toastMessage.textContent = message;
        toastDetails.textContent = details;
        // Update background color
        toastEl.className = `toast text-white bg-${type} border-0`;
        // Show toast with autohide disabled
        const toast = new bootstrap.Toast(toastEl, {
            autohide: false
        });
        toast.show();
        // Add click handler to close the toast when OK is clicked
        okButton.onclick = ()=>toast.hide();
    }
    //breadcrumbs
    function addBreadcrumb(config) {
        const ol = document.getElementById("breadcrumb");
        ol.innerHTML = '';
        const max = config.length;
        config.forEach(function(item, i) {
            const li = document.createElement("li");
            li.classList.add("breadcrumb-item", "fs-5", "fw-bold", "cursor-pointer");
            li.textContent = item.label;
            li.style.cursor = "pointer";
            if (typeof item.onClick === 'function') li.addEventListener('click', function() {
                if (item.param) item.onClick(item.param);
                else item.onClick();
            });
            ol.appendChild(li);
        });
    }
    function loadOptions(buttonsConfig) {
        buttonsConfig.forEach((btn, index)=>{
            const li = document.createElement('li');
            li.className = "nav-item ms-3 d-flex align-items-center";
            li.id = btn.text;
            li.innerHTML = `
          <i class="${btn.icon} small me-1 fw-bold text-muted text-dark"></i>
          <a class="nav-link text-dark text-muted" href="#">${btn.text}</a>
        `;
            li.setAttribute('data-index', index);
            if (index == 0) li.classList.add('active');
            li.addEventListener('click', function() {
                topbarButtons.querySelectorAll('li').forEach((s)=>{
                    s.classList.remove('active');
                    s.classList.add('text-muted');
                });
                this.classList.add('active');
                this.classList.remove('text-muted');
                if (typeof btn.onclick === 'function') btn.onclick();
                else if (typeof btn.onclick === 'string') new Function(btn.onclick)(); //fallback
            });
            topbarButtons.appendChild(li);
        });
    }
    function loadModal(submission, param1, next = null, param2) {
        showLoading();
        try {
            modalContainer.classList.remove('d-none');
            const modalElement = document.getElementById("modalHTML");
            modal = new bootstrap.Modal(modalElement);
            modal.show();
            const form = document.getElementById('modalForm');
            if (form) form.reset(); // Clear form fields
            // Set up form submission handler
            if (typeof param1 !== 'undefined') submission(param1);
            else submission();
            // Call next function if provided
            if (typeof next === 'function') {
                if (typeof param2 !== 'undefined') next(param2);
                else next();
            }
        } catch (error) {
            hideLoading();
            throw new Error(error);
        }
        hideLoading();
    }
    //-- function for close Modal()
    function closeModal() {
        if (modal) {
            modalContainer.classList.add('d-none');
            modal.hide();
        } else throw new Error(`closeModal: container not closed correctly`);
    }
    //container constants{}
    const modalContainer = document.getElementById('modalContainer');
    const topbarButtons = document.getElementById('topbarButtons');
    const grid = document.getElementById('grid');
    const loadingOverlay = document.getElementById('loadingOverlay');
    const loadingText = document.getElementById('loadingText');
    const newFolderButton = document.getElementById('newFolderButton');
    const helpText = document.getElementById('helpText');
    const breadcrumb = document.getElementById("breadcrumb");
    const floatingButton = document.getElementById("floatingButton");
    const popupClose = document.getElementById("popupClose");
    const popupForm = document.getElementById("popupForm");
    const mailTag = document.getElementById('email');
    const list = document.getElementById('list');
    let modal, cache;
    //-- Setup App
    document.addEventListener('DOMContentLoaded', function() {
        showLoading("fetching data from server...");
        fectchSampleData(initialize);
    });
    function initialize() {
        showLoading('loading dashboard...');
        try {
            mailTag.title = cache.email;
            mailTag.textContent = cache.name[0];
            mailTag.setAttribute("data-bs-html", "true");
            const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
            const tooltipList = [
                ...tooltipTriggerList
            ].map((el)=>new bootstrap.Tooltip(el, {
                    html: true
                }));
            floatingButton.classList.remove("d-none");
            floatingButton.addEventListener('click', function() {
                toggleFloatingForm();
            });
            popupClose.addEventListener('click', function() {
                toggleFloatingForm();
            });
            newFolderButton.addEventListener('click', function() {
                newFolder();
            });
            loadFolders();
            hideLoading();
        } catch (error) {
            hideLoading();
            showToast(`An error has occured.`, 'danger', error.message);
        }
    }
    //-- Load folders
    function loadFolders() {
        try {
            showLoading("loading folders...");
            //clear contents
            grid.innerHTML = '';
            topbarButtons.innerHTML = '';
            list.innerHTML = '';
            grid.classList.remove('d-none');
            let breadcrumbConfig = [
                {
                    label: 'Main Folder',
                    onClick: loadFolders
                }
            ];
            addBreadcrumb(breadcrumbConfig);
            function createCard([folderName, folderData]) {
                return `
          <div id="folder-${folderName}" 
              class="d-flex flex-column align-items-center p-2 mb-2" 
              role="button" style="cursor: pointer;">
            <i class="bi bi-folder-fill text-secondary fs-1"></i>
            <div class="text-muted">${folderName}</div>
            <div class="text-muted small">date: ${folderData.date}</div>
            </div>
          `;
            }
            //-- Load folder into grid
            const folderEntries = Object.entries(cache.folders);
            if (folderEntries.length === 0) list.innerHTML = '<div class="text-center fst-italic text-secondary mt-4">No folders found. Click "Create New folder" to get started.</div>';
            else {
                grid.innerHTML = folderEntries.map(createCard).join('');
                // Add click event to each folder card
                folderEntries.forEach(([folderName, folderData])=>{
                    const card = document.getElementById(`folder-${folderName}`);
                    card.addEventListener('click', function() {
                        folderContainer(folderName);
                    });
                });
            }
            let helpConfig = [
                {
                    html: 'logo',
                    text: 'comapany Logo'
                },
                {
                    html: 'newFolderButton',
                    text: 'creates new folder'
                },
                {
                    html: 'breadcrumb',
                    text: 'clickable links to track where you are in the portal'
                },
                {
                    html: 'grid',
                    text: 'main area. folders and forms will be displayed here'
                },
                {
                    html: 'help',
                    text: 'info area. provides general information or instruction to wherever you move your mouse'
                },
                {
                    html: 'floatingButton',
                    text: 'chat service'
                }
            ];
            helpSideBar(helpConfig);
            hideLoading();
        } catch (error) {
            hideLoading();
            showToast(`An error has occured.`, 'danger', error.message);
        }
    }
    //-- new project button
    function newFolder() {
        try {
            loadModal(newFolderSub);
        } catch (error) {
            showToast(`An error has occured.`, 'danger', error.message);
        }
    }
    //-- new project submission
    function newFolderSub() {
        try {
            //listeners for modal close 
            const cancelButton = document.getElementById('cancelButton');
            const closeButton = document.getElementById('closeButton');
            cancelButton.addEventListener('click', closeModal);
            closeButton.addEventListener('click', closeModal);
            //listener for submit button
            const form = document.getElementById('modalForm');
            form.onsubmit = (e)=>{
                e.preventDefault();
                showLoading("Creating...");
                // Collect form data
                const today = new Date();
                const data = Object.fromEntries(new FormData(form).entries());
                const month = today.getMonth() + 1;
                data['date'] = today.getFullYear() + '-' + month + '-' + today.getDate();
                data['author'] = cache.email;
                cache.folders[data.folderName] = data;
                cache.db[data.folderName] = {};
                //clear modal
                modalContainer.classList.add('d-none');
                modal.hide();
                form.reset();
                hideLoading();
                loadFolders();
            };
        } catch (error) {
            hideLoading();
            showToast(`An error has occured.`, 'danger', error.message);
        }
    }
    function folderContainer(name) {
        try {
            grid.innerHTML = '';
            topbarButtons.innerHTML = '';
            list.innerHTML = '';
            grid.classList.remove('d-none');
            let data = cache.db[name];
            topbarButtons.innerHTML = '';
            let topBarConfig = [
                {
                    icon: "bi bi-arrow-left",
                    text: "back",
                    onclick: ()=>loadFolders()
                },
                {
                    icon: "bi bi-trash3",
                    text: "Delete Folder",
                    onclick: ()=>deleteProject(name)
                }
            ];
            loadOptions(topBarConfig);
            let breadcrumbConfig = [
                {
                    label: 'Main Folder',
                    onClick: loadFolders
                },
                {
                    label: name,
                    onClick: null
                }
            ];
            addBreadcrumb(breadcrumbConfig);
            function createCard([name, id]) {
                return `
          <div id="file-${name}" 
              class="d-flex flex-column align-items-center p-2 mb-2" 
              role="button" style="cursor: pointer;">
            <i class="bi bi-file-earmark-word-fill text-secondary fs-1"></i>
            <div class="text-muted">${name}</div>
            </div>
          `;
            }
            //-- Load folders into grid
            const files = Object.entries(data);
            if (files.length === 0) list.innerHTML = '<div class="text-center fst-italic text-secondary mt-4">Folder empty.</div>';
            else {
                grid.innerHTML = files.map(createCard).join('');
                // Add click event to each project card
                files.forEach(([name, id])=>{
                    const card = document.getElementById(`file-${name}`);
                    card.addEventListener('click', function() {
                        const url = 'https://docs.google.com/document/d/' + id + '/view';
                        window.open(url, "_blank"); // open in new tab
                    });
                });
            }
            let helpConfig = [
                {
                    html: 'back',
                    text: 'go back to folders'
                },
                {
                    html: 'Delete Project',
                    text: 'delete folder'
                }
            ];
            helpSideBar(helpConfig);
        } catch (error) {
            hideLoading();
            showToast(`An error has occured.`, 'danger', error);
        }
    }
    async function fectchSampleData(callback) {
        try {
            cache = {
                'folders': {
                    'folder': {
                        'folderName': 'Folder 1',
                        'author': 'John Smith',
                        'date': '2025-5-21'
                    },
                    'files': {
                        'folderName': 'files',
                        'author': 'John Smith',
                        'date': '2025-1-05'
                    }
                },
                'db': {
                    'folder': {
                        'doc': '12UIlRsf_-SBMBLdcIhK6EWcY2Igt-GtYBzX1rOKj0ds',
                        'report': '15Cq1dy1V1cUVrSRCL_fZEWOoyeQ8R6VwsO8XbW6Ete4'
                    },
                    'files': {
                        'file 1': '1yIjcnyxiEuibAlyamxhEOMlTrF_qrgagR-RbF4bqsk8',
                        'file 2': '1n-hhwTDoOJ7vOy1EFKdd04MwytYdTq_o5TewsTBh4oY'
                    }
                },
                'name': 'John Smith',
                'email': 'johnsmith@sample.com'
            };
            if (typeof callback == 'function') callback();
        } catch (error) {
            hideLoading();
            showToast(`An error has occured.`, 'danger', error.message);
        }
    }
    function deleteProject(name) {
        delete cache.folders[name];
        loadFolders();
    }
})();

</script>


<script src="/dashboard.b5a040c9.js"></script></body></html>